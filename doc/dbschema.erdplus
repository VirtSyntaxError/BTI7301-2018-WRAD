{"version":2,"www":"erdplus.com","shapes":[{"type":"Table","details":{"name":"User","x":239,"y":159,"sort":"manual","attributes":[{"names":["ObjectGUID"],"order":0,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":1},{"names":["SAMAccountName"],"order":3,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"20","id":2},{"names":["DistinguishedName"],"order":4,"pkMember":false,"optional":false,"soloUnique":true,"fk":false,"dataType":"varcharn","dataTypeSize":"200","id":3},{"names":["LastLogonTimestamp"],"order":8,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":4},{"names":["userPrincipalName"],"order":2,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"20","id":5},{"names":["DisplayName"],"order":1,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"50","id":6},{"names":["CreatedDate"],"order":9,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":7},{"names":["LastModifiedDate"],"order":10,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":8},{"names":["Enabled"],"order":6,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"custom","dataTypeSize":"BOOLEAN","id":9},{"names":["Description"],"order":5,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":null,"id":10},{"names":["Expired"],"order":7,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"custom","dataTypeSize":"BOOLEAN","id":11}],"uniqueGroups":[],"id":1}},{"type":"Table","details":{"name":"UserArchive","x":620,"y":163,"sort":"manual","attributes":[{"names":["ArchiveID"],"order":0,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":1},{"names":["userPrincipalName"],"order":3,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":"50","id":3},{"names":["SAMAccountName"],"order":4,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":null,"id":4},{"names":["DistinguishedName"],"order":5,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":null,"id":5},{"names":["ObjectGUID"],"order":1,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":7},{"names":["OperationType"],"order":9,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"charn","dataTypeSize":"1","id":8},{"names":["VersionStartTime"],"order":10,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":9},{"names":["VersionEndTime"],"order":11,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":10},{"names":["DisplayName"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":null,"id":11},{"names":["Description"],"order":6,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":null,"id":12},{"names":["Enabled"],"order":7,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"custom","dataTypeSize":"BOOLEAN","id":13},{"names":["Expired"],"order":8,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"custom","dataTypeSize":"BOOLEAN","id":14}],"uniqueGroups":[],"id":3}},{"type":"Label","details":{"text":"On Update (except LastLogonTimestamp) and on Delete put old entry to UserArchive","x":407,"y":173,"width":197,"height":85,"id":6}},{"type":"Label","details":{"text":"ArchiveId - The primary key of our archive table.  Just a sequential integer","x":835,"y":370,"width":634,"height":85,"id":9}},{"type":"Label","details":{"text":"OperationType - A column containing a code of the DML operation that resulted in the row being archived.  For updates, the code will be 'U' and for deletes 'D' will be used","x":835,"y":394,"width":571,"height":53,"id":10}},{"type":"Label","details":{"text":"VersionStartTime - The date/time of when this version of the row became active in the table.","x":835,"y":427,"width":560,"height":50,"id":11}},{"type":"Label","details":{"text":"VersionEndTime - The date/time when this version of the row was removed/replaced from the table.  Together with VersionStartTime, this is when this version of the row was in the main table.","x":836,"y":448,"width":563,"height":55,"id":12}},{"type":"Table","details":{"name":"Group","x":238,"y":587,"sort":"manual","attributes":[{"names":["ObjectGUID"],"order":0,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":1},{"names":["CreatedDate"],"order":5,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":2},{"names":["LastModifiedDate"],"order":6,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":3},{"names":["SAMAccountName"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":null,"id":4},{"names":["Type"],"order":4,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"custom","dataTypeSize":"ENUM","id":5},{"names":["CommonName"],"order":1,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":6},{"names":["DistinguishedName"],"order":3,"pkMember":false,"optional":false,"soloUnique":true,"fk":false,"dataType":"varcharn","dataTypeSize":"200","id":7}],"uniqueGroups":[],"id":13}},{"type":"Label","details":{"text":"Type - Security Type of Group ADS_GROUP_TYPE_DOMAIN_LOCAL_GROUP\nADS_GROUP_TYPE_GLOBAL_GROUP\nADS_GROUP_TYPE_UNIVERSAL_GROUP\nADS_GROUP_TYPE_SECURITY_ENABLED","x":833,"y":629,"width":498,"height":55,"id":15}},{"type":"Table","details":{"name":"UserGroup","x":238,"y":437,"sort":"manual","attributes":[{"names":["User"],"order":0,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":1,"attributeId":1}],"id":1},{"names":["Group"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":13,"attributeId":1}],"id":2},{"names":["CreatedDate"],"order":2,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":3}],"uniqueGroups":[],"id":16}},{"type":"Table","details":{"name":"GroupGroup","x":239,"y":782,"sort":"manual","attributes":[{"names":["ChildGroup"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":13,"attributeId":1}],"id":1},{"names":["ParentGroup"],"order":0,"pkMember":true,"optional":false,"soloUnique":false,"fk":true,"dataType":"int","dataTypeSize":null,"references":[{"tableId":13,"attributeId":1}],"id":2},{"names":["CreatedDate"],"order":2,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":3}],"uniqueGroups":[],"id":21}},{"type":"Label","details":{"text":"On Update and on Delete put old entry to GroupArchive","x":409,"y":603,"width":187,"height":50,"id":24}},{"type":"Label","details":{"text":"On Delete put old entry to UserGroupArchive","x":405,"y":451,"width":206,"height":50,"id":26}},{"type":"Label","details":{"text":"On Delete put old entry to GroupGroupArchive","x":405,"y":795,"width":195,"height":50,"id":28}},{"type":"Table","details":{"name":"UserGroupArchive","x":618,"y":436,"sort":"manual","attributes":[{"names":["User"],"order":1,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":1},{"names":["Group"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":2},{"names":["VersionStartTime"],"order":3,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":3},{"names":["VersionEndTime"],"order":4,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":4},{"names":["ArchiveID"],"order":0,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":5}],"uniqueGroups":[],"id":29}},{"type":"Table","details":{"name":"GroupArchive","x":616,"y":588,"sort":"manual","attributes":[{"names":["ArchiveID"],"order":0,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":1},{"names":["ObjectGUID"],"order":1,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":2},{"names":["CommonName"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":null,"id":3},{"names":["SAMAccountName"],"order":3,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"varcharn","dataTypeSize":null,"id":4},{"names":["Type"],"order":5,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":5},{"names":["VersionStartTime"],"order":7,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":6},{"names":["OperationType"],"order":6,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"charn","dataTypeSize":"1","id":7},{"names":["VersionEndTime"],"order":8,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":8},{"names":["DistinguishedName"],"order":4,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":9}],"uniqueGroups":[],"id":30}},{"type":"Table","details":{"name":"GroupGroupArchive","x":613,"y":779,"sort":"automatic","attributes":[{"names":["ArchiveID"],"order":1,"pkMember":true,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":1},{"names":["ParentGroup"],"order":2,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":2},{"names":["ChildGroup"],"order":3,"pkMember":false,"optional":false,"soloUnique":false,"fk":false,"dataType":"int","dataTypeSize":null,"id":3},{"names":["VersionStartTime"],"order":4,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":4},{"names":["VersionEndTime"],"order":5,"pkMember":false,"optional":true,"soloUnique":false,"fk":false,"dataType":"date","dataTypeSize":null,"id":5}],"uniqueGroups":[],"id":31}}],"connectors":[{"type":"TableConnector","details":{"fkAttributeId":1,"id":19},"source":1,"destination":16},{"type":"TableConnector","details":{"fkAttributeId":2,"id":20},"source":13,"destination":16},{"type":"TableConnector","details":{"fkAttributeId":1,"id":22},"source":13,"destination":21},{"type":"TableConnector","details":{"fkAttributeId":2,"id":23},"source":13,"destination":21}],"width":2000,"height":1000}